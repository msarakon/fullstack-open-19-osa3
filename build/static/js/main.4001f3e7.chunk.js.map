{"version":3,"sources":["person-service.js","person-filter.js","new-person-form.js","person.js","person-list.js","notification.js","app.js","index.js"],"names":["api","person_service","axios","get","then","response","data","newItem","post","id","item","put","delete","PersonFilter","_ref","filterText","filter","react_default","a","createElement","value","onChange","NewPersonForm","props","onSubmit","addNewPerson","newName","handleNameChange","newPhone","handlePhoneChange","type","Person","person","remove","name","number","onClick","PersonList","persons","removePerson","toLowerCase","includes","map","src_person","key","p","Notification","message","style","trim","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewPhone","_useState7","_useState8","setFilterText","_useState9","msg","_useState10","notification","setNotification","useEffect","personService","showNotification","setTimeout","showError","src_notification","person_filter","e","target","new_person_form","event","preventDefault","existingPerson","find","window","confirm","concat","updatedPerson","newPerson","catch","error","person_list","personToBeRemoved","ReactDOM","render","app","document","getElementById"],"mappings":"6NAEMA,EAAM,eAOGC,EALF,kBAAMC,IAAMC,IAAIH,GAAKI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAK7CL,EAJH,SAAAM,GAAO,OAAIL,IAAMM,KAAKR,EAAKO,GAASH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAI3DL,EAHA,SAACQ,EAAIC,GAAL,OAAcR,IAAMS,IAAIX,EAAM,IAAMS,EAAIC,GAAMN,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAGxEL,EAFA,SAAAQ,GAAE,OAAIP,IAAMU,OAAOZ,EAAM,IAAMS,GAAIL,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCK7DO,EAVM,SAAAC,GAA4B,IAAzBC,EAAyBD,EAAzBC,WAAYC,EAAaF,EAAbE,OAElC,OACEC,EAAAC,EAAAC,cAAA,0CACqBF,EAAAC,EAAAC,cAAA,SAAOC,MAAOL,EAAYM,SAAUL,MCc9CM,EAlBO,SAACC,GAErB,OACEN,EAAAC,EAAAC,cAAA,QAAMK,SAAUD,EAAME,cACpBR,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOC,MAAOG,EAAMG,QAASL,SAAUE,EAAMI,oBAErDV,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOC,MAAOG,EAAMK,SAAUP,SAAUE,EAAMM,qBAExDZ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQW,KAAK,UAAb,kBCDOC,EAVA,SAAAjB,GAAwB,IAArBkB,EAAqBlB,EAArBkB,OAAQC,EAAanB,EAAbmB,OAExB,OACEhB,EAAAC,EAAAC,cAAA,WACGa,EAAOE,KADV,IACiBF,EAAOG,OADxB,IACgClB,EAAAC,EAAAC,cAAA,UAAQiB,QAAS,kBAAMH,EAAOD,KAA9B,YCarBK,EAhBI,SAAAvB,GAA2C,IAAxCwB,EAAwCxB,EAAxCwB,QAASvB,EAA+BD,EAA/BC,WAAYwB,EAAmBzB,EAAnByB,aAEzC,OACEtB,EAAAC,EAAAC,cAAA,WAEImB,EACGtB,OAAO,SAAAgB,GAAM,OAAIA,EAAOE,KAAKM,cAAcC,SAAS1B,EAAWyB,iBAC/DE,IAAI,SAAAV,GAAM,OACTf,EAAAC,EAAAC,cAACwB,EAAD,CAAQC,IAAKZ,EAAOE,KAAMF,OAAQA,EAAQC,OAAQ,SAACY,GAAD,OAAON,EAAaM,UCGnEC,EAZM,SAAAhC,GAAwB,IAArBiC,EAAqBjC,EAArBiC,QAASC,EAAYlC,EAAZkC,MAC/B,OAAgB,OAAZD,GAAuC,KAAnBA,EAAQE,OACvB,KAIPhC,EAAAC,EAAAC,cAAA,OAAK+B,UAAW,gBAAkBF,GAC/BD,IC4EQI,EA9EH,WAAM,IAAAC,EACeC,mBAAS,IADxBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACRd,EADQgB,EAAA,GACCG,EADDH,EAAA,GAAAI,EAEgBL,mBAAS,IAFzBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAERhC,EAFQiC,EAAA,GAECC,EAFDD,EAAA,GAAAE,EAGkBR,mBAAS,IAH3BS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAGRjC,EAHQkC,EAAA,GAGEC,EAHFD,EAAA,GAAAE,EAIsBX,mBAAS,IAJ/BY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAIRjD,EAJQkD,EAAA,GAIIC,EAJJD,EAAA,GAAAE,EAK0Bd,mBAAS,CAAEe,IAAK,GAAIpB,MAAO,OALrDqB,EAAAd,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAKRG,EALQD,EAAA,GAKME,EALNF,EAAA,GAOhBG,oBAAU,WACRC,IAAqBrE,KAAK,SAAAkC,GAAO,OAAImB,EAAWnB,MAC/C,IAEH,IAAMoC,EAAmB,SAAAN,GACvBG,EAAgB,CAAEH,IAAKA,EAAKpB,MAAO,OACnC2B,WAAW,kBAAMJ,EAAgB,CAAEH,IAAK,GAAIpB,MAAO,QAAS,MAGxD4B,EAAY,SAAAR,GAChBG,EAAgB,CAAEH,IAAKA,EAAKpB,MAAO,UACnC2B,WAAW,kBAAMJ,EAAgB,CAAEH,IAAK,GAAIpB,MAAO,QAAS,MAyC9D,OACE/B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAC0D,EAAD,CAAc9B,QAASuB,EAAaF,IAAKpB,MAAOsB,EAAatB,QAC7D/B,EAAAC,EAAAC,cAAC2D,EAAD,CAAc/D,WAAYA,EAAYC,OAAQ,SAAC+D,GAAD,OANxBb,EAMsCa,EANlBC,OAAO5D,UAOjDH,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAC8D,EAAD,CACExD,aAAc,SAACsD,GAAD,OA7CC,SAAAG,GACnBA,EAAMC,iBACN,IAAMC,EAAiB9C,EAAQ+C,KAAK,SAAArD,GAAM,OAAIA,EAAOE,OAASR,IAC1D0D,EACEE,OAAOC,QAAP,GAAAC,OAAkB9D,EAAlB,2DACF+C,EACUW,EAAe3E,GAAI,CAAEyB,KAAMR,EAASS,OAAQP,IACnDxB,KAAK,SAAAqF,GACJhC,EAAWnB,EAAQI,IAAI,SAAAV,GAAM,OAC3BA,EAAOvB,KAAOgF,EAAchF,GAAKgF,EAAgBzD,KAEnD0C,EAAgB,0BAAAc,OAAwB9D,EAAxB,uBAItB+C,EACO,CAAEvC,KAAMR,EAASS,OAAQP,IAC7BxB,KAAK,SAAAsF,GAAS,OAAIjC,EAAWnB,EAAQkD,OAAOE,MAC5CC,MAAM,SAAAC,GAAK,OAAIhB,EAAS,GAAAY,OAAI9D,EAAJ,uBAC3BgD,EAAgB,gBAAAc,OAAc9D,IAC9BkC,EAAW,IACXG,EAAY,KAwBWtC,CAAasD,IAClCrD,QAASA,EACTC,iBAAkB,SAACoD,GAAD,OAbYnB,EAaYmB,EAbKC,OAAO5D,QActDQ,SAAUA,EACVC,kBAAmB,SAACkD,GAAD,OAdYhB,EAcagB,EAdKC,OAAO5D,UAe1DH,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAC0E,EAAD,CAAYvD,QAASA,EAASvB,WAAYA,EAAYwB,aAAc,SAACM,GAAD,OA1BnDiD,EA0BuEjD,OAzBtFyC,OAAOC,QAAP,gBAAAC,OAA+BM,EAAkB5D,KAAjD,OACFuC,EAAqBqB,EAAkBrF,IAAIL,KAAK,WAC9CqD,EAAWnB,EAAQtB,OAAO,SAAAgB,GAAM,OAAIA,EAAOvB,KAAOqF,EAAkBrF,MACpEiE,EAAgB,aAAAc,OAAcM,EAAkB5D,SAC/CyD,MAAM,SAAAC,GAAK,OAAIhB,EAAS,GAAAY,OAAIM,EAAkB5D,KAAtB,wBALV,IAAA4D,OChDvBC,IAASC,OAAO/E,EAAAC,EAAAC,cAAC8E,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.4001f3e7.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst api = '/api/persons'\r\n\r\nconst list = () => axios.get(api).then(response => response.data)\r\nconst add = newItem => axios.post(api, newItem).then(response => response.data)\r\nconst update = (id, item) => axios.put(api + '/' + id, item).then(response => response.data)\r\nconst remove = id => axios.delete(api + '/' + id).then(response => response.data)\r\n\r\nexport default { list, add, update, remove }","import React from 'react'\r\n\r\nconst PersonFilter = ({ filterText, filter }) => {\r\n\r\n  return (\r\n    <div>\r\n      rajaa näytettäviä: <input value={filterText} onChange={filter} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default PersonFilter","import React from 'react'\r\n\r\nconst NewPersonForm = (props) => {\r\n\r\n  return (\r\n    <form onSubmit={props.addNewPerson}>\r\n      <div>\r\n        nimi: <input value={props.newName} onChange={props.handleNameChange} />\r\n      </div>\r\n      <div>\r\n        numero: <input value={props.newPhone} onChange={props.handlePhoneChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">lisää</button>\r\n      </div>\r\n    </form>\r\n  )\r\n\r\n}\r\n\r\nexport default NewPersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, remove }) => {\r\n\r\n  return (\r\n    <div>\r\n      {person.name} {person.number} <button onClick={() => remove(person)}>poista</button>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './person'\r\n\r\nconst PersonList = ({ persons, filterText, removePerson }) => {\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        persons\r\n          .filter(person => person.name.toLowerCase().includes(filterText.toLowerCase()))\r\n          .map(person =>\r\n            <Person key={person.name} person={person} remove={(p) => removePerson(p)} />\r\n          )\r\n      }\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default PersonList","import React from 'react'\r\n\r\nconst Notification = ({ message, style }) => {\r\n  if (message === null || message.trim() === '') {\r\n    return null\r\n  }\r\n  \r\n  return (\r\n    <div className={\"notification \" + style}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport personService from './person-service'\r\nimport PersonFilter from './person-filter'\r\nimport NewPersonForm from './new-person-form'\r\nimport PersonList from './person-list'\r\nimport Notification from './notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newPhone, setNewPhone ] = useState('')\r\n  const [ filterText, setFilterText ] = useState('')\r\n  const [ notification, setNotification ] = useState({ msg: '', style: null })\r\n\r\n  useEffect(() => {\r\n    personService.list().then(persons => setPersons(persons))\r\n  }, [])\r\n\r\n  const showNotification = msg => {\r\n    setNotification({ msg: msg, style: null })\r\n    setTimeout(() => setNotification({ msg: '', style: null }), 2000)\r\n  }\r\n\r\n  const showError = msg => {\r\n    setNotification({ msg: msg, style: 'error' })\r\n    setTimeout(() => setNotification({ msg: '', style: null }), 2000)\r\n  }\r\n\r\n  const addNewPerson = event => {\r\n    event.preventDefault()\r\n    const existingPerson = persons.find(person => person.name === newName)\r\n    if (existingPerson) {\r\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\r\n        personService\r\n          .update(existingPerson.id, { name: newName, number: newPhone })\r\n          .then(updatedPerson => {\r\n            setPersons(persons.map(person =>\r\n              person.id === updatedPerson.id ? updatedPerson : person \r\n            ))\r\n            showNotification(`Muutettiin henkilön ${newName} puhelinnumeroa`)\r\n          })\r\n      }\r\n    } else {\r\n      personService\r\n        .add({ name: newName, number: newPhone })\r\n        .then(newPerson => setPersons(persons.concat(newPerson)))\r\n        .catch(error => showError(`${newName} on jo poistettu`))\r\n      showNotification(`Lisättiin ${newName}`)\r\n      setNewName('')\r\n      setNewPhone('')\r\n    }\r\n  }\r\n\r\n  const removePerson = personToBeRemoved => {\r\n    if (window.confirm(`Poistetaanko ${personToBeRemoved.name}?`)) {\r\n      personService.remove(personToBeRemoved.id).then(() => {\r\n        setPersons(persons.filter(person => person.id !== personToBeRemoved.id))\r\n        showNotification(`Poistettu ${personToBeRemoved.name}`)\r\n      }).catch(error => showError(`${personToBeRemoved.name} on jo poistettu`))\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handlePhoneChange = (event) => setNewPhone(event.target.value)\r\n  const filter = (event) => setFilterText(event.target.value)\r\n\r\n  return (\r\n    <div>\r\n      <h1>Puhelinluettelo</h1>\r\n      <Notification message={notification.msg} style={notification.style} />\r\n      <PersonFilter filterText={filterText} filter={(e) => filter(e)} />\r\n      <h2>lisää uusi</h2>\r\n      <NewPersonForm\r\n        addNewPerson={(e) => addNewPerson(e)}\r\n        newName={newName}\r\n        handleNameChange={(e) => handleNameChange(e)}\r\n        newPhone={newPhone}\r\n        handlePhoneChange={(e) => handlePhoneChange(e)} />\r\n      <h2>Numerot</h2>\r\n      <PersonList persons={persons} filterText={filterText} removePerson={(p) => removePerson(p)}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}